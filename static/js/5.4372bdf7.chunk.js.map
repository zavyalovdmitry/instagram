{"version":3,"sources":["services/firebase.js","components/header.js","hooks/use-user.js","components/sidebar/user.js","components/sidebar/suggested-profile.js","components/sidebar/suggestions.js","components/sidebar/index.js","components/post/header.js","components/post/image.js","components/post/actions.js","components/post/footer.js","components/post/add-comment.js","components/post/comments.js","components/post/index.js","components/timeline.js","hooks/use-photos.js","pages/dashboard.js"],"names":["doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","docs","map","user","data","length","getUserByUsername","item","docId","id","getUserByUserId","userId","getSuggestedProfiles","following","limit","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","arrayRemove","arrayUnion","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getUserPhotosByUsername","isUserFollowingProfile","loggedInUserUsername","profileUserId","response","toggleFollow","activeUserDocId","followingUserId","Header","useContext","FirebaseContext","UserContext","className","to","ROUTES","aria-label","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","auth","signOut","onKeyDown","event","key","displayName","useUser","useState","activeUser","setActiveUser","useEffect","uid","getUserObjByUserId","User","fullName","count","height","SuggestedProfile","followed","setFollowed","Suggestions","profiles","setProfiles","suggestedProfiles","Sidebar","Image","caption","Actions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","setLikes","handleToggleLiked","tabIndex","Footer","AddComment","comments","setComments","commentInput","comment","setComment","handleSubmitComment","preventDefault","method","onSubmit","autoComplete","name","placeholder","value","onChange","target","ref","disabled","Comments","allComments","posted","slice","formatDistance","Date","Post","content","useRef","imageSrc","current","focus","dateCreated","Timeline","photos","setPhotos","followedUserPhotos","sort","b","getTimelinePhotos","usePhotos","Array","_","index","width","Dashboard","document"],"mappings":"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","file":"static/js/5.4372bdf7.chunk.js","sourcesContent":["import { firebase, FieldValue } from '../lib/firebase';\r\n\r\nexport async function doesUsernameExist(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', username)\r\n    .get();\r\n\r\n  return result.docs.map((user) => user.data().length > 0);\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id\r\n  }));\r\n}\r\n\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase.firestore().collection('users').where('userId', '==', userId).get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function getSuggestedProfiles(userId, following) {\r\n  const result = await firebase.firestore().collection('users').limit(10).get();\r\n  return result.docs\r\n    .map((user) => ({ ...user.data(), docId: user.id }))\r\n    .filter((profile) => profile.userId !== userId && !following.includes(profile.userId));\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  loggedInUserDocId,\r\n  profileId,\r\n  isFollowingProfile\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(loggedInUserDocId)\r\n    .update({\r\n      following: isFollowingProfile\r\n        ? FieldValue.arrayRemove(profileId)\r\n        : FieldValue.arrayUnion(profileId)\r\n    });\r\n}\r\n\r\nexport async function updateFollowedUserFollowers(\r\n  profileDocId,\r\n  loggedInUserDocId,\r\n  isFollowingProfile\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowingProfile\r\n        ? FieldValue.arrayRemove(loggedInUserDocId)\r\n        : FieldValue.arrayUnion(loggedInUserDocId)\r\n    });\r\n}\r\n\r\nexport async function getPhotos(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('photos')\r\n    .where('userId', 'in', following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n      const user = await getUserByUserId(photo.userId);\r\n      const { username } = user[0];\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n\r\n  return photosWithUserDetails;\r\n}\r\n\r\nexport async function getUserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('photos')\r\n    .where('userId', '==', user.userId)\r\n    .get();\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id\r\n  }));\r\n}\r\n\r\nexport async function isUserFollowingProfile(loggedInUserUsername, profileUserId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', loggedInUserUsername)\r\n    .where('following', 'array-contains', profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id\r\n  }));\r\n\r\n  return response.userId;\r\n}\r\n\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  await updateLoggedInUserFollowing(activeUserDocId, profileUserId, isFollowingProfile);\r\n  await updateFollowedUserFollowers(profileDocId, followingUserId, isFollowingProfile);\r\n}\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FirebaseContext from '../context/firebase';\r\nimport UserContext from '../context/user';\r\nimport * as ROUTES from '../constants/routes';\r\n\r\nexport default function Header() {\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white border-b border-gray-primary mb-8\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-between h-full\">\r\n          <div className=\"text-gray-700 text-center flex items-center align-items cursor-pointer\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"Zinstagram logo\">\r\n                <img src=\"/images/logo.png\" alt=\"Zinstagram\" className=\"mt-2 w-6/12\" />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex items-center align-items\">\r\n            {user ? (\r\n              <>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                  </svg>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign Out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(event) => {\r\n                    if (event.key === 'Enter') {\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n                <div className=\"flex items-center cursor-pointer\">\r\n                  <Link to={`/p/${user.displayName}`}>\r\n                    <img\r\n                      className=\"rounded-full h-8 w-8 flex\"\r\n                      src={`/images/avatars/${user.displayName}.jpg`}\r\n                      alt={`${user.displayName} profile`}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Log In\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"font-bold text-sm rounded text-blue-medium w-20 h-8\"\r\n                  >\r\n                    Sign Up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport UserContext from '../context/user';\r\nimport { getUserByUserId } from '../services/firebase';\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId() {\r\n      const [response] = await getUserByUserId(user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser };\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Skeleton from 'react-loading-skeleton';\r\n\r\nexport default function User({ username, fullName }) {\r\n  return !username || !fullName ? (\r\n    <Skeleton count={1} height={61} />\r\n  ) : (\r\n    <Link to={`/p/${username}`} className=\"grid grid-cols-4 gap-4 mb-6 items-center\">\r\n      <div className=\"flex items-center justify-between col-span-1\">\r\n        <img\r\n          className=\"rounded-full w-16 flex mr-3\"\r\n          src={`/images/avatars/${username}.jpg`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div className=\"col-span-3\">\r\n        <p className=\"font-bold text-sm\">{username}</p>\r\n        <p className=\"text-sm\">{fullName}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nUser.propTypes = {\r\n  username: PropTypes.string,\r\n  fullName: PropTypes.string\r\n};\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { updateLoggedInUserFollowing, updateFollowedUserFollowers } from '../../services/firebase';\r\n\r\nexport default function SuggestedProfile({\r\n  profileDocId,\r\n  username,\r\n  profileId,\r\n  userId,\r\n  loggedInUserDocId\r\n}) {\r\n  const [followed, setFollowed] = useState(false);\r\n\r\n  async function handleFollowUser() {\r\n    setFollowed(true);\r\n\r\n    await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\r\n    await updateFollowedUserFollowers(profileDocId, userId, false);\r\n  }\r\n\r\n  return !followed ? (\r\n    <div className=\"flex flex-row items-center align-items justify-between\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <img\r\n          className=\"rounded-full w-8 flex mr-3\"\r\n          src={`/images/avatars/${username}.jpg`}\r\n          alt=\"\"\r\n        />\r\n        <Link to={`/p/${username}`}>\r\n          <p className=\"font-bold text-sm\">{username}</p>\r\n        </Link>\r\n      </div>\r\n      <button\r\n        className=\"text-xs font-bold text-blue-medium\"\r\n        type=\"button\"\r\n        onClick={handleFollowUser}\r\n      >\r\n        Follow\r\n      </button>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestedProfile.propTypes = {\r\n  profileDocId: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  profileId: PropTypes.string.isRequired,\r\n  userId: PropTypes.string.isRequired,\r\n  loggedInUserDocId: PropTypes.string.isRequired\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport { getSuggestedProfiles } from '../../services/firebase';\r\nimport SuggestedProfile from './suggested-profile';\r\n\r\nexport default function Suggestions({ userId, following, loggedInUserDocId }) {\r\n  const [profiles, setProfiles] = useState(null);\r\n  useEffect(() => {\r\n    async function suggestedProfiles() {\r\n      const response = await getSuggestedProfiles(userId, following);\r\n      setProfiles(response);\r\n    }\r\n    if (userId) {\r\n      suggestedProfiles();\r\n    }\r\n  }, [userId]);\r\n\r\n  return !profiles ? (\r\n    <Skeleton count={1} height={150} className=\"mt-5\" />\r\n  ) : profiles.length > 0 ? (\r\n    <div className=\"rounded flex flex-col\">\r\n      <div className=\"text-sm flex items-center align-items justify-between mb-2\">\r\n        <p className=\"font-bold text-gray-base\">Suggestions for you</p>\r\n      </div>\r\n      <div className=\"mt-4 grid gap-5\">\r\n        {profiles.map((profile) => (\r\n          <SuggestedProfile\r\n            key={profile.docId}\r\n            profileDocId={profile.docId}\r\n            username={profile.username}\r\n            profileId={profile.userId}\r\n            userId={userId}\r\n            loggedInUserDocId={loggedInUserDocId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nSuggestions.propTypes = {\r\n  userId: PropTypes.string,\r\n  following: PropTypes.array,\r\n  loggedInUserDocId: PropTypes.string\r\n};\r\n","import useUser from '../../hooks/use-user';\r\nimport User from './user';\r\nimport Suggestions from './suggestions';\r\n\r\nexport default function Sidebar() {\r\n  const {\r\n    user: { docId, fullName, username, userId, following }\r\n  } = useUser();\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <User username={username} fullName={fullName} />\r\n      <Suggestions userId={userId} following={following} loggedInUserDocId={docId} />\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header({ username }) {\r\n  return (\r\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\r\n      <div className=\"flex items-center\">\r\n        <Link to={`/p/${username}`} className=\"flex items-center\">\r\n          <img\r\n            className=\"rounded-full h-8 w-8 flex mr-3\"\r\n            src={`/images/avatars/${username}.jpg`}\r\n            alt={`${username} profile`}\r\n          />\r\n          <p className=\"font-bold\">{username}</p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n\r\nImage.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  caption: PropTypes.string.isRequired\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function Actions({ docId, totalLikes, likedPhoto, handleFocus }) {\r\n  const {\r\n    user: { uid: userId = '' }\r\n  } = useContext(UserContext);\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n\r\n  const handleToggleLiked = async () => {\r\n    setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n    await firebase\r\n      .firestore()\r\n      .collection('photos')\r\n      .doc(docId)\r\n      .update({\r\n        likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\r\n      });\r\n\r\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            onClick={handleToggleLiked}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleToggleLiked();\r\n              }\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n            className={`w-8 mr-4 select-none cursor-pointer focus:outline-none ${\r\n              toggleLiked ? 'fill-red text-red-primary' : 'text-black-light'\r\n            }`}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            />\r\n          </svg>\r\n\r\n          <svg\r\n            onClick={handleFocus}\r\n            onKeyDown={(event) => {\r\n              if (event.key === 'Enter') {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            className=\"w-8 text-black-light select-none cursor-pointer focus:outline-none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-bold\">{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActions.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.bool.isRequired,\r\n  handleFocus: PropTypes.func.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function Footer({ caption, username }) {\r\n  return (\r\n    <div className=\"p-4 pt-2 pb-0\">\r\n      <span className=\"mr-1 font-bold\">{username}</span>\r\n      <span>{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  caption: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired\r\n};\r\n","import { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FirebaseContext from '../../context/firebase';\r\nimport UserContext from '../../context/user';\r\n\r\nexport default function AddComment({ docId, comments, setComments, commentInput }) {\r\n  const [comment, setComment] = useState('');\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n  const {\r\n    user: { displayName }\r\n  } = useContext(UserContext);\r\n\r\n  const handleSubmitComment = (event) => {\r\n    event.preventDefault();\r\n\r\n    setComments([{ displayName, comment }, ...comments]);\r\n    setComment('');\r\n\r\n    return firebase\r\n      .firestore()\r\n      .collection('photos')\r\n      .doc(docId)\r\n      .update({\r\n        comments: FieldValue.arrayUnion({ displayName, comment })\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"border-t border-gray-primary\">\r\n      <form\r\n        className=\"flex justify-between pl-0 pr-5\"\r\n        method=\"POST\"\r\n        onSubmit={(event) =>\r\n          comment.length >= 1 ? handleSubmitComment(event) : event.preventDefault()\r\n        }\r\n      >\r\n        <input\r\n          aria-label=\"Add a comment\"\r\n          autoComplete=\"off\"\r\n          className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 focus:outline-none\"\r\n          type=\"text\"\r\n          name=\"add-comment\"\r\n          placeholder=\"Add a comment...\"\r\n          value={comment}\r\n          onChange={({ target }) => setComment(target.value)}\r\n          ref={commentInput}\r\n        />\r\n        <button\r\n          className={`taxt-sm font-bold text-blue-medium focus:outline-none ${\r\n            !comment && 'opacity-25'\r\n          }`}\r\n          type=\"button\"\r\n          disabled={comment.length < 1}\r\n          onClick={handleSubmitComment}\r\n        >\r\n          Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nAddComment.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  setComments: PropTypes.func.isRequired,\r\n  commentInput: PropTypes.object\r\n};\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatDistance } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\nimport AddComment from './add-comment';\r\n\r\nexport default function Comments({ docId, comments: allComments, posted, commentInput }) {\r\n  const [comments, setComments] = useState(allComments);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1 pb-4\">\r\n        {comments.length >= 3 && (\r\n          <p className=\"text-sm text-gray-base mb-1 cursor-pointer\">View all comments</p>\r\n        )}\r\n        {comments.slice(0, 3).map((item) => (\r\n          <p key={`${item.comment}-${item.displayName}`} className=\"mb-1\">\r\n            <Link to={`/p/${item.displayName}`}>\r\n              <span className=\"mr-1 font-bold\">{item.displayName}</span>\r\n            </Link>\r\n            <span>{item.comment}</span>\r\n          </p>\r\n        ))}\r\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\r\n          {formatDistance(posted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      <AddComment\r\n        docId={docId}\r\n        comments={comments}\r\n        setComments={setComments}\r\n        commentInput={commentInput}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nComments.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  posted: PropTypes.number.isRequired,\r\n  commentInput: PropTypes.object.isRequired\r\n};\r\n","import { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Header from './header';\r\nimport Image from './image';\r\nimport Actions from './actions';\r\nimport Footer from './footer';\r\nimport Comments from './comments';\r\n\r\nexport default function Post({ content }) {\r\n  const commentInput = useRef(null);\r\n  const handleFocus = () => commentInput.current.focus();\r\n\r\n  return (\r\n    <div className=\"rounded col-span-4 border bg-white border-gray-primary mb-8\">\r\n      <Header username={content.username} />\r\n      <Image src={content.imageSrc} caption={content.caption} />\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer username={content.username} caption={content.caption} />\r\n      <Comments\r\n        docId={content.docId}\r\n        comments={content.comments}\r\n        posted={content.dateCreated}\r\n        commentInput={commentInput}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nPost.propTypes = {\r\n  content: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    imageSrc: PropTypes.string.isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    docId: PropTypes.string.isRequired,\r\n    userLikedPhoto: PropTypes.bool.isRequired,\r\n    likes: PropTypes.array.isRequired,\r\n    comments: PropTypes.array.isRequired,\r\n    dateCreated: PropTypes.number.isRequired\r\n  })\r\n};\r\n","import Skeleton from 'react-loading-skeleton';\r\nimport usePhotos from '../hooks/use-photos';\r\nimport Post from './post/index.js';\r\n\r\nexport default function Timeline() {\r\n  const { photos } = usePhotos();\r\n\r\n  return (\r\n    <div className=\"container col-span-2\">\r\n      {!photos ? (\r\n        <>\r\n          {[...new Array(4)].map((_, index) => (\r\n            <Skeleton key={index} count={1} width={640} height={500} className=\"mb-5\" />\r\n          ))}\r\n        </>\r\n      ) : photos?.length > 0 ? (\r\n        photos.map((content) => <Post key={content.docId} content={content} />)\r\n      ) : (\r\n        <p className=\"text-center text-2xl\">Follow people to see their photos!</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport UserContext from '../context/user';\r\nimport { getUserByUserId, getPhotos } from '../services/firebase';\r\n\r\nexport default function usePhotos() {\r\n  const [photos, setPhotos] = useState(null);\r\n  const {\r\n    user: { uid: userId = '' }\r\n  } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getTimelinePhotos() {\r\n      const [{ following }] = await getUserByUserId(userId);\r\n      let followedUserPhotos = [];\r\n\r\n      if (following.length > 0) {\r\n        followedUserPhotos = await getPhotos(userId, following);\r\n      }\r\n      followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n      setPhotos(followedUserPhotos);\r\n    }\r\n\r\n    getTimelinePhotos();\r\n  }, [userId]);\r\n\r\n  return { photos };\r\n}\r\n","import { useEffect } from 'react';\r\nimport Header from '../components/header';\r\nimport Sidebar from '../components/sidebar';\r\nimport Timeline from '../components/timeline';\r\n\r\nexport default function Dashboard() {\r\n  useEffect(() => {\r\n    document.title = 'Zinstagram';\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\r\n        <Timeline />\r\n        <Sidebar />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}